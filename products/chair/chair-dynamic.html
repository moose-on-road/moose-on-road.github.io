
<body>
<model-viewer id="myModel" src="https://moose-on-road.github.io/products/chair/chair.glb" camera-controls poster="https://moose-on-road.github.io/products/chair/chair.webp" shadow-intensity="1" environment-image="https://moose-on-road.github.io/dynamic/studio.hdr" exposure="2"
style="width: 640px; height: 480px; border:2px solid #eeeeee;">
      <div class="progress-bar hide" slot="progress-bar">
          <div class="update-bar"></div>
     </div>
    </model-viewer> 
</body> 
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
<script>
  const modelViewer = document.getElementById('myModel');

  // Convert hex to RGBA
  function hexToRgba(hex) {
    const r = parseInt(hex.slice(1, 3), 16) / 255;
    const g = parseInt(hex.slice(3, 5), 16) / 255;
    const b = parseInt(hex.slice(5, 7), 16) / 255;
    const a = parseInt(hex.slice(7, 9), 16) / 255 || 1; // Default to full opacity if alpha is missing
    return [r, g, b, a];
  }

  // Your hex color code
  const hexColor = '#e3a668d9'; // Example hex color with alpha channel

  // Wait for the model to load
  modelViewer.addEventListener('load', (event) => {
    const model = modelViewer.model;
    if (model) {
      const materials = model.materials;
      if (materials && materials.length > 0) {
        materials.forEach(material => {
          // Set the base color factor using the RGBA values from the hex code
          material.pbrMetallicRoughness.setBaseColorFactor(hexToRgba(hexColor));
        });
      }
    }
  });
</script>
<!--
<embed src="https://moose-on-road.github.io/products/chair/chair-dynamic.html" width="700px" height="500px"></embed>
-->
